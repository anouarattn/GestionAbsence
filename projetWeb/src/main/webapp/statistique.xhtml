<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:cc="http://java.sun.com/jsf/composite/components/compositeComponent">

<ui:composition template="/WEB-INF/templates/main.xhtml">

	<ui:define name="jquery"></ui:define>
 <ui:define name="anneesListe">
	<ui:include src="anneesScolaires.xhtml"></ui:include>
	</ui:define>
	<ui:define name="content">
	
		<div id="page-wrapper" style="min-height: 588px;">
			<div class="row">
				<div class="col-lg-12">
					<h1 class="page-header">Statistique</h1>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
				
					<br/><br/>
					<h:panelGrid id="graphe" columns="2" columnClasses="left,right" style="width:100%">					    					   
					    <p:chart type="bar" model="#{chartView.animatedModel2}" widgetVar="chart" style="width:600px; "  />
					    					    					    
					</h:panelGrid>
					<br/>
					<p:commandButton type="button" value="Export " icon="ui-icon-extlink" onclick="exportChart()"/>
					<br/>
					<h:panelGrid id="line" columns="2" columnClasses="left,right" style="width:100%">					    
					   
					    <p:chart type="line" model="#{chartView.areaModel}" style="height:350px" widgetVar="line" />
					    
					</h:panelGrid>
				<br/><p:commandButton type="button" value="Export" icon="ui-icon-extlink" onclick="exportLine()"/>
				<p:dialog widgetVar="dlg" showEffect="fade" modal="true" header="Chart comme Image" resizable="false">
				    <p:outputPanel id="output" layout="block" style="width:600px;height:450px"/>
				</p:dialog>
				<p:dialog widgetVar="dlgl" showEffect="fade" modal="true" header="Chart comme Image" resizable="false">
				    <p:outputPanel id="outputl" layout="block" style="width:800px;height:450px"/>
				</p:dialog>
				<ui:debug hotkey="x" />					
			
				</div>
			</div>
		</div>
	
	</ui:define>
		<ui:define name="js">
		<script type="text/javascript">
function exportChart() {
    //export image
    $('#output').empty().append(PF('chart').exportAsImage());
 
    //show the dialog
    PF('dlg').show();
}

function exportLine() {
    //export image
    $('#outputl').empty().append(PF('line').exportAsImage());
 
    //show the dialog
    PF('dlgl').show();
}
</script>
		</ui:define>
	<ui:define name="dialog">
	
	</ui:define>
</ui:composition>
</html>